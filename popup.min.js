let fire = "fire", lighting = "lighting", water = "water", earth = "earth", power = "PWR";

function fight() {
    let t = lighting, e = lighting, l = [{amount: 396, element: fire}],
        a = [{element: water, power: 6965}, {element: lighting, power: 7705}];
    attributeTotal = calculateAttributeTotal(l), evaluatedAttributeTotal = calculateEvaluatedAttributeTotal(l, t);
    attributeTotal;
    let r = 3600 * (evaluatedAttributeTotal + 1) + 0;
    for (let l = 0; l < a.length; l++) {
        let n = 1, i = a[l].element, o = a[l].power;
        t == e && (n += .075);
        let u = r * (n += playerEnemyElementsTrait(t, i, n));
        const g = 5e4;
        let h = 0;
        for (let t = 0; t < g; t++) {
            let t = 0, e = 0, l = getRandom();
            l = 0 != l ? l / 100 : l;
            let a = getRandom();
            (t = u + u * l) > (e = o + o * (a = 0 != a ? a / 100 : a)) && h++
        }
        winPercentage = 100 * h / g, console.log("enemy 1 " + winPercentage + "%")
    }
}

function getRandom() {
    return Math.floor(20 * Math.random() - 10)
}

function calculateEvaluatedAttributeTotal(t, e) {
    let l = 0;
    for (let a = 0; a < t.length; a++) {
        let r = 0, n = t[a].element, i = t[a].amount;
        n != e && (r = .0025 * i), n == power && (r = .002575 * i), n == e && (r = .002675 * i), l += r
    }
    return l
}

function calculateAttributeTotal(t) {
    let e = 0;
    for (let l = 0; l < t.length; l++) e += t[l].amount;
    return e
}

function playerEnemyElementsTrait(t, e) {
    let l = 0;
    return t == fire ? e == earth ? l += .075 : e == water && (l -= .075) : t == earth ? e == lighting ? l += .075 : e == fire && (l -= .075) : t == lighting ? e == water ? l += .075 : e == earth && (l -= .075) : t == water && (e == fire ? l += .075 : e == lighting && (l -= .075)), l
}